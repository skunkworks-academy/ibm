<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>CLA96G Unified LMS</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<nav>
  <a href="part-1.html">Part 1</a>
  <a href="part-2.html">Part 2</a>
  <a href="part-3.html">Part 3</a>
  <a href="part-4.html">Part 4</a>
  <a href="assessment.html">Final Assessment</a>
  <a href="analytics.html">Analytics</a>
</nav>

<header>
  <h1>CLA96G – Db2 Administration</h1>
  <p>Enterprise Training Portal</p>
</header>

<div class="wrap">

  <div class="card">
    <h2>Overall Progress</h2>
    <div>Completion: <span id="completion">0%</span></div>
    <div>Score: <span id="score">0%</span></div>
    <div>Readiness: <span id="readiness">—</span></div>
  </div>

</div>

<script src="app.js"></script>
<script src="scorm-api.js"></script>

<script>
function compute(){
  let totalQ=0,totalA=0,totalC=0;

  Object.values(LMS_KEYS).forEach(k=>{
    const p=load(k);
    if(!p) return;
    totalQ += p.totalQuestions||0;
    totalA += p.answered||0;
    totalC += p.correct||0;
  });

  const completion=percentage(totalA,totalQ);
  const score=percentage(totalC,totalQ);

  document.getElementById("completion").innerText=completion+"%";
  document.getElementById("score").innerText=score+"%";

  let r="Needs Support";
  if(score>=90) r="Strong – Job Ready";
  else if(score>=75) r="Ready – Light Supervision";
  else if(score>=60) r="Developing";

  document.getElementById("readiness").innerText=r;

  if(window.SCORM){
    SCORM.update(score,completion);
  }
}

compute();
</script>

</body>
</html>
